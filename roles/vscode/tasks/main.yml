---
- name: Install MS repo key
  apt_key:
    url: https://packages.microsoft.com/keys/microsoft.asc
    id: BE1229CF
    state: present
  become: yes

- name: Add Visual Studio code repository
  apt_repository:
    repo: 'deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main'
    filename: vscode
    state: present
    update_cache: yes
  become: yes

- name: Install Visual Studio code
  package:
    name:
    - code
    state: present
  become: yes


- name: Pylint for vscode
  pip:
    name: pylint

- name: Installing vscode extensions
  shell: code --install-extension {{ item }}
  with_items:
  - ms-vscode.cpptools
  - ms-python.python
  - vscode-icons-team.vscode-icons
  - donjayamanne.githistory
  - ms-azuretools.vscode-docker
  - eamodio.gitlens